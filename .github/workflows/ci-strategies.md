# CI/CD 전략 (개인 프로젝트용)

> **참고**: 이 프로젝트는 개인 프로젝트로 `dev` 브랜치 없이 `main`과 작업 브랜치만 사용합니다.

## 🎯 현재 전략: Main만 엄격하게 검증

**동작:**

- 작업 브랜치(`feat/*`, `refactor/*` 등)에서 `main`으로 PR 시: 필수 검증 (실패 시 PR 차단)
- `main`에 직접 push 시: 검증 (방어용, 보통은 PR만 사용)

**YAML 설정:**

```yaml
on:
  push:
    branches: [main] # main에 직접 push 시 (보통은 PR만 사용)
  pull_request:
    branches: [main] # main으로 PR 시 필수 검증
```

**✅ 장점:**

- 가장 간단하고 명확함
- CI 실행 횟수가 적어서 비용/시간 절약
- 실사용자가 보는 `main`만 확실하게 보호
- 개인 프로젝트에 최적화
- 초보자에게 이해하기 쉬움

**❌ 단점:**

- 작업 브랜치에서 문제를 미리 발견 못할 수 있음
- PR 시 문제 발견 시 수정 시간 필요

**💡 추천 상황:**

- 개인 프로젝트 ✅ (현재 상황)
- 소규모 프로젝트 (1-2명)
- 빠르게 시작하고 싶을 때

---

## 🔄 대안 전략들 (참고용)

### 전략 A: 모든 PR에 검증 (현재와 동일)

현재 전략과 동일하지만, 모든 브랜치에서 `main`으로 PR 시 검증합니다.

```yaml
on:
  push:
    branches: [main]
  pull_request:
    branches: [main] # 모든 브랜치에서 main으로 PR 시 검증
```

### 전략 B: 수동 실행 추가

필요 시 수동으로 CI를 실행할 수 있습니다.

```yaml
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
  workflow_dispatch: # 수동 실행 옵션 추가
```

---

## 📊 전략 비교

| 전략               | CI 실행 빈도 | 안전성 | 설정 복잡도 | 추천 상황        |
| ------------------ | ------------ | ------ | ----------- | ---------------- |
| Main만 엄격 (현재) | 낮음         | 높음   | 매우 간단   | 개인 프로젝트 ✅ |
| 수동 실행 추가     | 매우 낮음    | 높음   | 간단        | 필요 시에만 검증 |

---

## 🎯 결론

개인 프로젝트에서는 **Main만 엄격하게 검증**하는 전략이 가장 적합합니다:

- 간단하고 명확함
- 비용 효율적
- 실사용자 보호
- 나중에 필요하면 확장 가능
